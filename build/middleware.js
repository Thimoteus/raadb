!function(a,b){b.raadb=a;var c=require("../settings"),d=require("jaraw"),e=require("molten-core"),f=new d({type:"script",login:{username:c.username,password:c.password},oauth:{id:c.id,secret:c.secret},user_agent:c.userAgent,rate_limit:1e3}),g=function(a,b,c){e.isType("Function",b)&&(c=b,b={});var d=function(a){return e.map(function(a){return a.data},JSON.parse(a).data.children)},g=function(a,b,e){return c(a,b,d(e))};return f.get(a,b,g)},h=function(a){return"/r/"+a+".json"},i=function(a,b,c){void 0===c&&(c=e.id);var d="/api/comment",g={api_type:"json",thing_id:a.name,text:b};return f.post(d,g,c)},j=function(a,b,c,d){void 0===d&&(d=e.id);var g="/api/submit",h={api_type:"json",kind:"self",resubmit:!0,sendreplies:!1,sr:a,text:c,then:"comments",title:b};f.post(g,h,d)};module.exports={getListing:g,getDbEndpt:h,createComment:i,createSelfText:j}}({},function(){return this}());