!function(a,b){b.raadb=a;var c,d,e,f,g,h,i,j,k=require("jaraw"),l=require("molten-core");d=function(a,b,d){var e,f;return l.isType("Function",b)&&(d=b,b={}),e=function(a){return l.map(function(a){return a.data},JSON.parse(a).data.children)},f=function(a,b){return d(a,e(b))},c.get(a,b,f)},e=function(a){return"/r/"+a+"/new.json"},f=function(a,b,d){var e,f;return void 0===d&&(d=l.id),e="/api/comment",f={api_type:"json",thing_id:a.name,text:b},c.post(e,f,d)},g=function(a,b,d,e){var f,g;void 0===e&&(e=l.id),f="/api/submit",g={api_type:"json",kind:"self",resubmit:!0,sendreplies:!1,sr:a,text:d,then:"comments",title:b},c.post(f,g,e)},h=function(a,b,d){var e,f,g;e="/r/"+a+"/comments/"+b.id+".json",f={limit:500},g=function(a,b){return a||!b?d(new Error("Could not contact reddit")):(comments=l.map(function(a){return a.data},JSON.parse(b)[1].data.children),d(a,comments))},c.get(e,f,g)},i=function(a){var b,d;b="/api/del",d={id:a.name},c.post(b,d)},j=function(a,b){var d,e;d="/api/editusertext",e={api_type:"json",thing_id:a.name,text:b},c.post(d,e)},module.exports=function(a){this.init=function(){var b=a;c=new k({type:"script",login:{username:b.username,password:b.password},oauth:{id:b.id,secret:b.secret},user_agent:b.userAgent,rate_limit:1e3})},this.getListing=d,this.getDbEndpt=e,this.createComment=f,this.createSelfText=g,this.getCommentsFromPost=h,this.deleteThing=i,this.editComment=j}}({},function(){return this}());